<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0098)http://manta.cs.vt.edu/CS3714/StudentsOnly/TutorialApps/CitiesILike-Unwind/CitiesILike-Unwind.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/CourseWebsiteTemplate.dwt" codeOutsideHTMLIsLocked="false" --><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

<link rel="shortcut icon" href="http://manta.cs.vt.edu/CS3714/StudentsOnly/TutorialApps/CitiesILike-Unwind/favicon.ico" type="image/x-icon">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Tutorial: CitiesILike-Unwind</title>
<link rel="shortcut icon" href="http://manta.cs.vt.edu/CS3714/favicon.ico" type="image/x-icon">
<!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
<style type="text/css">
p.MsoNormal {margin-top:0in;
margin-right:0in;
margin-bottom:10.0pt;
margin-left:0in;
line-height:115%;
font-size:11.0pt;
font-family:"Calibri","sans-serif";
}
</style>
<!-- InstanceEndEditable -->
<link href="./Tutorial17_CitiesILike-Unwind_files/global.css" rel="stylesheet" type="text/css">
</head>

<body>
<!-- InstanceBeginRepeat name="Repeating Region" --><!-- InstanceBeginRepeatEntry -->
<table border="0" align="center" cellpadding="5" cellspacing="0">
  <tbody><tr>
    <td valign="top"><a href="http://www.vt.edu/" target="_blank"><img src="./Tutorial17_CitiesILike-Unwind_files/VTLogoNew.gif" alt="Virginia Tech" width="200" height="43" border="0" longdesc="http://www.vt.edu"></a></td>
    <td valign="top"><a href="http://manta.cs.vt.edu/CS3714/StudentsOnly/TutorialApps/CitiesILike-Unwind/index.html"></a><img src="./Tutorial17_CitiesILike-Unwind_files/cs3714CourseTitle.gif" width="468" height="40"></td>
  </tr>
</tbody></table>
<div align="center">
  <ul id="dhtmlmenu6" style="list-style: none; margin: 0; padding: 0">
    <li style="display: inline">
      <!-- source: "C:/Users/Osman Balci/Balci/Website Development/CS3714/CS3714 Website Template Menus.dms" -->
      <img id="TrackPath_m6" src="./Tutorial17_CitiesILike-Unwind_files/empty.gif" width="1" height="1" style="display:none" alt="">
      <script type="text/javascript" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_scr.js"></script><img id="m6menubg4" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6bg4.png"><img id="m6menubg5" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6bg5.png"><img id="m6menubg6" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6bg6.png"><img id="pre0m6tlm0" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i0.png"><img id="pre1m6tlm0" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i0h.png"><img id="pre0m6tlm1" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i1.png"><img id="pre1m6tlm1" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i1h.png"><img id="pre0m6tlm2" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i2.png"><img id="pre1m6tlm2" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i2h.png"><img id="pre0m6tlm3" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i3.png"><img id="pre1m6tlm3" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i3h.png"><img id="pre0m6tlm4" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i4.png"><img id="pre1m6tlm4" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i4h.png"><img id="pre0m6tlm5" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i5.png"><img id="pre1m6tlm5" width="1" height="1" style="display:none" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i5h.png"><style type="text/css">
.m6CL0,.m6CL0:link{text-decoration:none;color:Black; }
.m6CL0:visited{color:Black}
.m6mit{padding-left:10px;padding-right:10px;color:Black; font-weight:bold; font-family:Trebuchet MS,Arial,Verdana,Tahoma; font-size:x-small; }
</style><script type="text/javascript" src="./Tutorial17_CitiesILike-Unwind_files/menu_dom.js"></script>
      <table style="line-height:0px" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_b.png" alt=""></td>
          <td><a id="m6tlm0a" href="http://manta.cs.vt.edu/CS3714/Index.html" target="_top" onmouseover="exM(m6,&#39;none&#39;,&#39;&#39;,event);chgBg(m6,&#39;m6tlm0&#39;,3)" onmouseout="chgBg(m6,&#39;m6tlm0&#39;,0,1)"><img style="border-style:none" id="m6tlm0" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i0.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_s.png" alt=""></td>
          <td><a id="m6tlm1a" href="http://manta.cs.vt.edu/CS3714/Course.html" target="_top" onmouseover="exM(m6,&#39;m6mn1&#39;,&#39;m6tlm1&#39;,event);chgBg(m6,&#39;m6tlm1&#39;,3)" onmouseout="coM(m6,&#39;m6mn1&#39;,&#39;m6tlm1&#39;);chgBg(m6,&#39;m6tlm1&#39;,0)"><img style="border-style:none" id="m6tlm1" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i1.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_s.png" alt=""></td>
          <td><a id="m6tlm2a" href="http://manta.cs.vt.edu/CS3714/Policies.html" target="_top" onmouseover="exM(m6,&#39;m6mn2&#39;,&#39;m6tlm2&#39;,event);chgBg(m6,&#39;m6tlm2&#39;,3)" onmouseout="coM(m6,&#39;m6mn2&#39;,&#39;m6tlm2&#39;);chgBg(m6,&#39;m6tlm2&#39;,0)"><img style="border-style:none" id="m6tlm2" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i2.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_s.png" alt=""></td>
          <td><a id="m6tlm3a" href="http://manta.cs.vt.edu/CS3714/Staff.html" target="_top" onmouseover="exM(m6,&#39;m6mn3&#39;,&#39;m6tlm3&#39;,event);chgBg(m6,&#39;m6tlm3&#39;,3)" onmouseout="coM(m6,&#39;m6mn3&#39;,&#39;m6tlm3&#39;);chgBg(m6,&#39;m6tlm3&#39;,0)"><img style="border-style:none" id="m6tlm3" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i3.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_s.png" alt=""></td>
          <td><a id="m6tlm4a" href="http://manta.cs.vt.edu/CS3714/Grading.html" target="_top" onmouseover="exM(m6,&#39;m6mn4&#39;,&#39;m6tlm4&#39;,event);chgBg(m6,&#39;m6tlm4&#39;,3)" onmouseout="coM(m6,&#39;m6mn4&#39;,&#39;m6tlm4&#39;);chgBg(m6,&#39;m6tlm4&#39;,0)"><img style="border-style:none" id="m6tlm4" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i4.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_s.png" alt=""></td>
          <td><a id="m6tlm5a" href="http://manta.cs.vt.edu/CS3714/Other.html" target="_top" onmouseover="exM(m6,&#39;m6mn5&#39;,&#39;m6tlm5&#39;,event);chgBg(m6,&#39;m6tlm5&#39;,3)" onmouseout="coM(m6,&#39;m6mn5&#39;,&#39;m6tlm5&#39;);chgBg(m6,&#39;m6tlm5&#39;,0)"><img style="border-style:none" id="m6tlm5" src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_i5.png" alt=""></a></td>
          <td><img src="./Tutorial17_CitiesILike-Unwind_files/dhtmlmenu_m6_e.png" alt=""></td>
        </tr>
      </tbody></table>
    </li>
  </ul>
</div>
<!-- InstanceEndRepeatEntry --><!-- InstanceEndRepeat -->
<!-- InstanceBeginEditable name="Editable Region" --> <br>
<div align="center" class="LargeTitle">Tutorial: CitiesILike-Unwind</div>
<br>
<table width="800" border="0" align="center" cellpadding="5" cellspacing="0">
  <tbody><tr>
    <td><p class="HeadingPurple">Learning Objectives</p>
      <ol>
        <li>How to use<strong> Unwind Segues to implement reverse navigation</strong>.</li>
        <li>How to <strong>pass data to any upstream view controller</strong> using <strong>Unwind Segues</strong>.</li>
      </ol>
      <p class="areaName">Introduction to  Unwind Segues</p>
      <blockquote>
        <p>“Unwind segues extend the concept of segues by allowing you to define a relationship between a view controller and others that precede it in the flow of control. <strong>You can use unwind segues to implement reverse navigation</strong>, returning the user to an <em>existing instance</em> of a view controller. Unwind segues provide ample callbacks and points of customization such that in most situations, <strong>you can use these callbacks instead of delegation to pass data back to a previous view controller</strong>.” [<a href="https://developer.apple.com/library/ios/technotes/tn2298/_index.html">Apple Technical Note TN2298</a>]</p>
      </blockquote>
      <p class="areaName">Rules for Creating an Unwind Segue Method    </p>
      <ol>
        <li>Create an Unwind Segue method in an<em> </em><strong>upstream view controller</strong>. You can unwind segue only to an upstream view controller.</li>
        <li>The  view controller to which Unwind Segue is requested must be an <em>existing instance</em> of an <strong>upstream view controller</strong>. The “existing instance” implies that the view controller object is already instantiated prior to the unwind segue  request.</li>
        <li>The <span class="Heading">Unwind Segue method name must be unique</span> among  all  classes in your module (i.e., project folder)</li>
        <li>Annotate the Unwind Segue method with <span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">@IBAction</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "></span></span> so that it shows up in the Storyboard for connection.</li>
        <li>The Unwind Segue method must have only one parameter defined as: <span class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "><strong>(segue : </strong></span><strong><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">UIStoryboardSegue</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">)</span></strong></span></li>
        <li>Name the Unwind Segue method meaningfully as: <span class="HeadingPurple">unwindToX</span> where X is the name of the upstream view controller.</li>
      </ol>
      <p class="areaName">How to Change the CitiesILike App to use Unwind Segues Instead of Delegation Design Pattern</p>
      <ol>
        <li>Copy the earlier developed <strong>CitiesILike</strong> app folder and paste it as <strong>CitiesILike-Unwind</strong>.</li>
        <li>Launch the <strong>CitiesILike-Unwind</strong> project in Xcode.</li>
        <li>        In the <span class="courier">CityTableViewController.swift</span> file:<br>
          <br>
          <ol>
            <li>Delete <span class="courier">AddCityViewControllerProtocol</span> in the <span class="courier">class</span> declaration on the top.</li>
            <li>Change:<br>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">/*</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">-----------------------------------------------------</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">MARK: -  AddCityViewControllerProtocol Protocol Method</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">-----------------------------------------------------</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">*/</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">func</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> addCityViewController(controller: </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">,  didFinishWithSave save: </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">Bool</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">) {</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
              <p class="MsoNormal"><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">if</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> save {</span>              </p>
              <p class="MsoNormal"><strong><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">To:</span></strong></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">/*</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">---------------------------</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">MARK: -  Unwind Segue Method</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">---------------------------</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">*/</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">@IBAction</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">func</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> unwindToCityTableViewController (segue : </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">UIStoryboardSegue</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">) {</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">if</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> segue.</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">identifier</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> == </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#C41A16; ">"AddCity-Save"</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> {</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">// Obtain the object reference  of the source view controller</span></p>
            <p class="MsoNormal"><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">var</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> controller: </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> = segue.</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">sourceViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">as</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewController</span></p></li>
            <li>Delete  <span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">self</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">.</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">navigationController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">!.</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#2E0D6E; ">popViewControllerAnimated</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">(</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">true</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">)</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span> <br>
              <br>
            </li>
            <li>In the <span class="courier">prepareForSegue</span> method on the bottom, delete
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">//  Obtain the object reference of the destination view controller</span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">var</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> addCityViewController: </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> = segue.</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">destinationViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">as</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewController</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
              <p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#007400; ">//  Under the Delegation Design Pattern, set the addCityViewController's delegate  to be self</span></p>
              <p class="MsoNormal"><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">addCityViewController.delegate = </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">self</span><br>
            </p></li>
          </ol>
        </li>
        <li>        In the <span class="courier">AddCityViewController.swift</span> file:<br>
          <br>
<ol>
            <li>Delete the <span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">protocol</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> AddCityViewControllerProtocol</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span>definition on the top.</li>
            <li>Delete <span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">var</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> delegate: </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#3F6E74; ">AddCityViewControllerProtocol</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">?</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span> </li>
            <li>Delete <span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">self</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">.</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">title</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> = </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#C41A16; ">"Add  City"</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span> </li>
            <li>Delete<br>
<p class="MsoNormal" style="margin-bottom:.0001pt;line-height:normal;text-autospace:none;"><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">let</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> saveButton = </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">UIBarButtonItem</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">(barButtonSystemItem: .</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#2E0D6E; ">Save</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">, target: </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">self</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">, action: </span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#C41A16; ">"save:"</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">)</span></p>
              <p class="MsoNormal"><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">self</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">.</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">navigationItem</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">.</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">rightBarButtonItem</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> = saveButton</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span></p>
            We will create the Save button below in the Storyboard.</li>
            <li>Delete the <span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#AA0D91; ">func</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; "> save(sender: </span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:#5C2699; ">AnyObject</span><span style="font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; color:black; ">)</span><span style="line-height:115%; font-family:&#39;Arial&#39;,&#39;sans-serif&#39;; font-size:10.0pt; "> </span>on the bottom.<br>
              <br>
            </li>
          </ol>
        </li>
        <li>In the <span class="courier">Main.Storyboard</span> file:<br>
          <br>
<ol>
            <li>Click the title bar (scene dock) of the <strong>Add City View Controller</strong> scene to select it.</li>
            <li>Drag a <strong>Navigation Item</strong> from the Object Library and drop it on top of   the <strong>Navigation Bar</strong> of  the <strong>Add City View Controller</strong> scene.</li>
            <li>Double click <strong>Title</strong> and change it to <strong>Add City</strong> to be the title of the navigation item.</li>
            <li>Drag a <strong>Bar Button Item</strong> from the Object Library and drop it on the right edge of the <strong>Navigation Item</strong> of  the <strong>Add City View Controller</strong> scene.</li>
            <li>Click <strong>Item</strong> to select it. Bring up the Attributes Inspector. Select <strong>Save</strong> from the <strong>Identifier</strong> pop-up menu.<br>
              <br>
            </li>
          </ol>
        </li>
        <li><strong>Make the Unwind Segue connection</strong>: Control drag from the <strong>Save</strong> button to the <strong>Exit</strong> object in the scene dock, let go the mouse button, and select <span class="courier">unwindToCityTableViewController</span> IBAction method as shown in the following screenshot.<br>
          <br>
          <div align="center"><img src="./Tutorial17_CitiesILike-Unwind_files/controlDrag.png" width="618" height="318"></div>
          <br>
        </li>
        <li>The above action creates the   <span class="courier">Unwind segue to Scene Exit Placeholder</span> object in the Document Outline as shown in the following screenshot.</li>
        <li>Click it to select it. Bring up the <strong>Attributes Inspector</strong>. Enter <span class="HeadingPurple">AddCity-Save</span> as its <strong>Identifier</strong> as shown in the following screenshot. <br>
          <br>
          <div align="center"><img src="./Tutorial17_CitiesILike-Unwind_files/segueIdentifier.png" width="1280" height="476"></div>
        </li>
      </ol>
      <p class="areaName">Build and Run</p>
      <blockquote>
        <p>Build and run your app under the iPhone Simulator to test its functionality.</p>
    </blockquote></td>
  </tr>
</tbody></table>
<p class="HeadingPurple">&nbsp;</p>
<blockquote>
  <p></p>
</blockquote>
<!-- InstanceEndEditable -->

<!-- InstanceEnd -->
</body></html>